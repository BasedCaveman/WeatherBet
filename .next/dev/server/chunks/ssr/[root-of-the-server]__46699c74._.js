module.exports = [
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/events [external] (events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}),
"[externals]/node:crypto [external] (node:crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:crypto", () => require("node:crypto"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/https [external] (https, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}),
"[externals]/http [external] (http, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}),
"[externals]/net [external] (net, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}),
"[externals]/tls [external] (tls, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/url [external] (url, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}),
"[externals]/zlib [external] (zlib, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[externals]/os [external] (os, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}),
"[externals]/punycode [external] (punycode, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("punycode", () => require("punycode"));

module.exports = mod;
}),
"[externals]/util [external] (util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}),
"[externals]/assert [external] (assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}),
"[externals]/buffer [external] (buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}),
"[project]/Documents/GitHub/WeatherBet/src/lib/wagmi.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "appMetadata",
    ()=>appMetadata,
    "config",
    ()=>config,
    "megaeth",
    ()=>megaeth,
    "networks",
    ()=>networks,
    "projectId",
    ()=>projectId,
    "socialFeatures",
    ()=>socialFeatures,
    "wagmiAdapter",
    ()=>wagmiAdapter
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$wagmi$2f$core$2f$dist$2f$esm$2f$utils$2f$cookie$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/@wagmi/core/dist/esm/utils/cookie.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$wagmi$2f$core$2f$dist$2f$esm$2f$createStorage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/@wagmi/core/dist/esm/createStorage.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$reown$2f$appkit$2d$adapter$2d$wagmi$2f$dist$2f$esm$2f$src$2f$client$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/@reown/appkit-adapter-wagmi/dist/esm/src/client.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$chain$2f$defineChain$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/viem/_esm/utils/chain/defineChain.js [app-ssr] (ecmascript)");
;
;
;
const projectId = process.env.NEXT_PUBLIC_REOWN_PROJECT_ID || "ff6342f0134a0af6e9f7b972fb1c0afa";
const megaeth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$chain$2f$defineChain$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineChain"])({
    id: 6342,
    name: "MegaETH Testnet",
    nativeCurrency: {
        decimals: 18,
        name: "Ether",
        symbol: "ETH"
    },
    rpcUrls: {
        default: {
            http: [
                "https://6342.rpc.thirdweb.com"
            ]
        }
    },
    blockExplorers: {
        default: {
            name: "MegaETH Explorer",
            url: "https://megaexplorer.xyz"
        }
    },
    testnet: true
});
const networks = [
    megaeth
];
const wagmiAdapter = new __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$reown$2f$appkit$2d$adapter$2d$wagmi$2f$dist$2f$esm$2f$src$2f$client$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WagmiAdapter"]({
    storage: (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$wagmi$2f$core$2f$dist$2f$esm$2f$createStorage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createStorage"])({
        storage: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$wagmi$2f$core$2f$dist$2f$esm$2f$utils$2f$cookie$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cookieStorage"]
    }),
    ssr: true,
    projectId,
    networks
});
const config = wagmiAdapter.wagmiConfig;
const appMetadata = {
    name: "WeatherBet",
    description: "Weather prediction markets for everyone",
    url: ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "https://weatherbet.app",
    icons: [
        "https://weatherbet.app/icon.png"
    ]
};
const socialFeatures = {
    email: true,
    // Primary social options (Google & Apple most common)
    socials: [
        'google',
        'apple',
        'x',
        'facebook',
        'discord'
    ],
    // Enable smart accounts for gasless transactions
    emailShowWallets: true
};
}),
"[project]/Documents/GitHub/WeatherBet/src/providers/Web3Provider.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Web3Provider",
    ()=>Web3Provider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$tanstack$2f$query$2d$core$2f$build$2f$modern$2f$queryClient$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/@tanstack/query-core/build/modern/queryClient.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$tanstack$2f$react$2d$query$2f$build$2f$modern$2f$QueryClientProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$reown$2f$appkit$2f$dist$2f$esm$2f$exports$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/@reown/appkit/dist/esm/exports/react.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$wagmi$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/src/lib/wagmi.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$context$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/wagmi/dist/esm/context.js [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
// Create query client
const queryClient = new __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$tanstack$2f$query$2d$core$2f$build$2f$modern$2f$queryClient$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["QueryClient"]();
// Define metadata
const metadata = {
    name: "WeatherBet",
    description: "Weather hedging for farmers & event planners",
    url: ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "https://weatherbet.app",
    icons: [
        "https://weatherbet.app/icon.png"
    ]
};
// Initialize AppKit with social login enabled
const appKit = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$reown$2f$appkit$2f$dist$2f$esm$2f$exports$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["createAppKit"])({
    adapters: [
        __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$wagmi$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["wagmiAdapter"]
    ],
    projectId: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$wagmi$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["projectId"] || "ff6342f0134a0af6e9f7b972fb1c0afa",
    networks: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$wagmi$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["networks"],
    defaultNetwork: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$wagmi$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["megaeth"],
    metadata,
    // SOCIAL LOGIN - Primary authentication method
    features: {
        analytics: true,
        email: true,
        socials: [
            'google',
            'apple',
            'x',
            'facebook',
            'discord'
        ],
        emailShowWallets: true,
        onramp: false
    },
    // Theme
    themeMode: "light",
    themeVariables: {
        "--w3m-accent": "#22c55e",
        "--w3m-border-radius-master": "2px"
    },
    // All wallets available in "advanced" section
    allWallets: "SHOW",
    featuredWalletIds: []
});
function Web3Provider({ children }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$context$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WagmiProvider"], {
        config: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$wagmi$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["wagmiAdapter"].wagmiConfig,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f40$tanstack$2f$react$2d$query$2f$build$2f$modern$2f$QueryClientProvider$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["QueryClientProvider"], {
            client: queryClient,
            children: children
        }, void 0, false, {
            fileName: "[project]/Documents/GitHub/WeatherBet/src/providers/Web3Provider.tsx",
            lineNumber: 52,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/Documents/GitHub/WeatherBet/src/providers/Web3Provider.tsx",
        lineNumber: 51,
        columnNumber: 5
    }, this);
}
}),
"[project]/Documents/GitHub/WeatherBet/src/lib/weather.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Weather Service using Open-Meteo API (free, no API key required)
__turbopack_context__.s([
    "POPULAR_CITIES",
    ()=>POPULAR_CITIES,
    "getCityFromCoords",
    ()=>getCityFromCoords,
    "getClimateAverages",
    ()=>getClimateAverages,
    "getWeatherForecast",
    ()=>getWeatherForecast,
    "searchCities",
    ()=>searchCities
]);
async function searchCities(query) {
    if (!query || query.length < 2) return [];
    try {
        const response = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=10&language=en&format=json`);
        if (!response.ok) throw new Error("Failed to search cities");
        const data = await response.json();
        if (!data.results) return [];
        return data.results.map((r)=>({
                id: r.id,
                name: r.name,
                country: r.country,
                countryCode: r.country_code,
                latitude: r.latitude,
                longitude: r.longitude,
                timezone: r.timezone,
                population: r.population
            }));
    } catch (error) {
        console.error("City search error:", error);
        return [];
    }
}
async function getCityFromCoords(lat, lon) {
    try {
        // Open-Meteo doesn't have reverse geocoding, so we use a nearby city search
        const response = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=city&count=1&language=en&format=json`);
        // Fallback: Create a generic city object from coordinates
        // In production, you'd use a proper reverse geocoding service
        return {
            id: Math.floor(lat * 1000 + lon),
            name: "Your Location",
            country: "Detected",
            countryCode: "XX",
            latitude: lat,
            longitude: lon,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
        };
    } catch (error) {
        console.error("Reverse geocoding error:", error);
        return null;
    }
}
async function getWeatherForecast(city) {
    try {
        const response = await fetch(`https://api.open-meteo.com/v1/forecast?` + `latitude=${city.latitude}&longitude=${city.longitude}` + `&daily=temperature_2m_max,temperature_2m_min,precipitation_sum,precipitation_probability_max` + `&current=temperature_2m` + `&timezone=${encodeURIComponent(city.timezone || "auto")}` + `&forecast_days=7`);
        if (!response.ok) throw new Error("Failed to fetch weather");
        const data = await response.json();
        const forecast = data.daily.time.map((date, i)=>({
                date,
                temperatureMax: data.daily.temperature_2m_max[i],
                temperatureMin: data.daily.temperature_2m_min[i],
                precipitationSum: data.daily.precipitation_sum[i],
                precipitationProbability: data.daily.precipitation_probability_max[i]
            }));
        // Calculate weekly totals
        const weeklyPrecipitationForecast = forecast.reduce((sum, day)=>sum + day.precipitationSum, 0);
        const weeklyAvgHighTemp = forecast.reduce((sum, day)=>sum + day.temperatureMax, 0) / forecast.length;
        return {
            city,
            currentTemp: data.current.temperature_2m,
            forecast,
            weeklyPrecipitationForecast,
            weeklyAvgHighTemp
        };
    } catch (error) {
        console.error("Weather fetch error:", error);
        throw error;
    }
}
async function getClimateAverages(city) {
    try {
        // Get current month to fetch relevant historical data
        const now = new Date();
        const month = now.getMonth() + 1;
        // Use historical weather API for past years average
        const currentYear = now.getFullYear();
        const startYear = currentYear - 10;
        // Fetch historical data for this week across past 10 years
        const startDate = `${startYear}-${String(month).padStart(2, "0")}-01`;
        const endDate = `${currentYear - 1}-${String(month).padStart(2, "0")}-28`;
        const response = await fetch(`https://archive-api.open-meteo.com/v1/archive?` + `latitude=${city.latitude}&longitude=${city.longitude}` + `&start_date=${startDate}&end_date=${endDate}` + `&daily=temperature_2m_max,precipitation_sum` + `&timezone=${encodeURIComponent(city.timezone || "auto")}`);
        if (!response.ok) {
            // Fallback to estimated averages if historical API fails
            return getEstimatedAverages(city, month);
        }
        const data = await response.json();
        // Calculate averages from historical data
        const temps = data.daily.temperature_2m_max.filter((t)=>t !== null);
        const precips = data.daily.precipitation_sum.filter((p)=>p !== null);
        const avgDailyHighTemp = temps.length > 0 ? temps.reduce((a, b)=>a + b, 0) / temps.length : 25;
        const avgDailyPrecip = precips.length > 0 ? precips.reduce((a, b)=>a + b, 0) / precips.length : 3;
        return {
            city,
            avgWeeklyPrecipitation: avgDailyPrecip * 7,
            avgDailyHighTemp,
            month
        };
    } catch (error) {
        console.error("Climate data error:", error);
        return getEstimatedAverages(city, new Date().getMonth() + 1);
    }
}
// Fallback estimated averages based on latitude and month
function getEstimatedAverages(city, month) {
    const lat = Math.abs(city.latitude);
    // Rough estimates based on latitude and season
    let baseTemp = 25;
    let basePrecip = 20;
    // Adjust for latitude (tropical vs temperate)
    if (lat < 23.5) {
        // Tropical
        baseTemp = 28;
        basePrecip = 25;
    } else if (lat < 45) {
        // Temperate
        baseTemp = 20;
        basePrecip = 15;
    } else {
        // Cold regions
        baseTemp = 12;
        basePrecip = 12;
    }
    // Adjust for season (Northern Hemisphere bias)
    const isSummer = city.latitude > 0 && month >= 5 && month <= 9 || city.latitude < 0 && (month >= 11 || month <= 3);
    if (isSummer) {
        baseTemp += 5;
        basePrecip += 10;
    } else {
        baseTemp -= 5;
    }
    return {
        city,
        avgWeeklyPrecipitation: basePrecip,
        avgDailyHighTemp: baseTemp,
        month
    };
}
const POPULAR_CITIES = [
    {
        id: 3448439,
        name: "São Paulo",
        country: "Brazil",
        countryCode: "BR",
        latitude: -23.5475,
        longitude: -46.6361,
        timezone: "America/Sao_Paulo",
        population: 12300000
    },
    {
        id: 1277333,
        name: "Mumbai",
        country: "India",
        countryCode: "IN",
        latitude: 19.0728,
        longitude: 72.8826,
        timezone: "Asia/Kolkata",
        population: 12500000
    },
    {
        id: 1816670,
        name: "Beijing",
        country: "China",
        countryCode: "CN",
        latitude: 39.9075,
        longitude: 116.3972,
        timezone: "Asia/Shanghai",
        population: 11700000
    },
    {
        id: 2332459,
        name: "Lagos",
        country: "Nigeria",
        countryCode: "NG",
        latitude: 6.4541,
        longitude: 3.3947,
        timezone: "Africa/Lagos",
        population: 14400000
    },
    {
        id: 1642911,
        name: "Jakarta",
        country: "Indonesia",
        countryCode: "ID",
        latitude: -6.2088,
        longitude: 106.8456,
        timezone: "Asia/Jakarta",
        population: 10560000
    },
    {
        id: 5128581,
        name: "New York",
        country: "United States",
        countryCode: "US",
        latitude: 40.7128,
        longitude: -74.006,
        timezone: "America/New_York",
        population: 8336000
    },
    {
        id: 2643743,
        name: "London",
        country: "United Kingdom",
        countryCode: "GB",
        latitude: 51.5074,
        longitude: -0.1278,
        timezone: "Europe/London",
        population: 8982000
    },
    {
        id: 1701668,
        name: "Manila",
        country: "Philippines",
        countryCode: "PH",
        latitude: 14.5995,
        longitude: 120.9842,
        timezone: "Asia/Manila",
        population: 1780000
    },
    {
        id: 3451190,
        name: "Rio de Janeiro",
        country: "Brazil",
        countryCode: "BR",
        latitude: -22.9068,
        longitude: -43.1729,
        timezone: "America/Sao_Paulo",
        population: 6748000
    },
    {
        id: 1275339,
        name: "Kolkata",
        country: "India",
        countryCode: "IN",
        latitude: 22.5726,
        longitude: 88.3639,
        timezone: "Asia/Kolkata",
        population: 4500000
    },
    {
        id: 3936456,
        name: "Lima",
        country: "Peru",
        countryCode: "PE",
        latitude: -12.0464,
        longitude: -77.0428,
        timezone: "America/Lima",
        population: 10700000
    },
    {
        id: 360630,
        name: "Cairo",
        country: "Egypt",
        countryCode: "EG",
        latitude: 30.0444,
        longitude: 31.2357,
        timezone: "Africa/Cairo",
        population: 10200000
    }
];
}),
"[project]/Documents/GitHub/WeatherBet/src/providers/LocationProvider.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LocationProvider",
    ()=>LocationProvider,
    "useLocation",
    ()=>useLocation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/src/lib/weather.ts [app-ssr] (ecmascript)");
"use client";
;
;
;
const LocationContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(undefined);
const STORAGE_KEY = "weatherbet_city";
function LocationProvider({ children }) {
    const [city, setCityState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [weather, setWeather] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [climate, setClimate] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [isDetecting, setIsDetecting] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isLoadingWeather, setIsLoadingWeather] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // Load saved city on mount
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
        ;
    }, []);
    // Fetch weather when city changes
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (city) {
            fetchWeatherData(city);
        }
    }, [
        city
    ]);
    const fetchWeatherData = async (targetCity)=>{
        setIsLoadingWeather(true);
        setError(null);
        try {
            const [weatherData, climateData] = await Promise.all([
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getWeatherForecast"])(targetCity),
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getClimateAverages"])(targetCity)
            ]);
            setWeather(weatherData);
            setClimate(climateData);
        } catch (err) {
            console.error("Failed to fetch weather:", err);
            setError("Failed to load weather data");
        } finally{
            setIsLoadingWeather(false);
        }
    };
    const setCity = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((newCity)=>{
        setCityState(newCity);
        // Save to localStorage
        if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
        ;
    }, []);
    const detectLocation = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async ()=>{
        setIsDetecting(true);
        setError(null);
        try {
            // Try GPS first
            if ("geolocation" in navigator) {
                const position = await new Promise((resolve, reject)=>{
                    navigator.geolocation.getCurrentPosition(resolve, reject, {
                        enableHighAccuracy: false,
                        timeout: 10000,
                        maximumAge: 300000
                    });
                });
                const { latitude, longitude } = position.coords;
                // Search for nearest city using coordinates
                // Open-Meteo doesn't have reverse geocoding, so we'll use IP fallback
                // or search for a city near these coordinates
                const nearbyCity = await findNearestCity(latitude, longitude);
                if (nearbyCity) {
                    setCity(nearbyCity);
                    setIsDetecting(false);
                    return;
                }
            }
        } catch (gpsError) {
            console.log("GPS failed, trying IP fallback:", gpsError);
        }
        // Fallback to IP-based geolocation
        try {
            const response = await fetch("https://ip-api.com/json/?fields=city,country,countryCode,lat,lon,timezone");
            if (response.ok) {
                const data = await response.json();
                // Search for the city by name to get proper ID
                const cities = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["searchCities"])(data.city);
                if (cities.length > 0) {
                    // Find best match
                    const match = cities.find((c)=>c.countryCode.toLowerCase() === data.countryCode.toLowerCase()) || cities[0];
                    setCity(match);
                } else {
                    // Create city from IP data
                    setCity({
                        id: Math.floor(data.lat * 1000 + data.lon),
                        name: data.city || "Your Location",
                        country: data.country,
                        countryCode: data.countryCode,
                        latitude: data.lat,
                        longitude: data.lon,
                        timezone: data.timezone
                    });
                }
            }
        } catch (ipError) {
            console.error("IP geolocation failed:", ipError);
            setError("Could not detect location. Please select a city.");
        }
        setIsDetecting(false);
    }, [
        setCity
    ]);
    const searchCity = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(async (query)=>{
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["searchCities"])(query);
    }, []);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(LocationContext.Provider, {
        value: {
            city,
            setCity,
            weather,
            climate,
            isDetecting,
            isLoadingWeather,
            detectLocation,
            searchCity,
            popularCities: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["POPULAR_CITIES"],
            error
        },
        children: children
    }, void 0, false, {
        fileName: "[project]/Documents/GitHub/WeatherBet/src/providers/LocationProvider.tsx",
        lineNumber: 168,
        columnNumber: 5
    }, this);
}
function useLocation() {
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(LocationContext);
    if (context === undefined) {
        throw new Error("useLocation must be used within a LocationProvider");
    }
    return context;
}
// Helper to find nearest city from coordinates
async function findNearestCity(lat, lon) {
    // Find closest from popular cities first
    let closestCity = null;
    let closestDistance = Infinity;
    for (const city of __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$weather$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["POPULAR_CITIES"]){
        const distance = getDistance(lat, lon, city.latitude, city.longitude);
        if (distance < closestDistance) {
            closestDistance = distance;
            closestCity = city;
        }
    }
    // If within 100km of a popular city, use it
    if (closestCity && closestDistance < 100) {
        return closestCity;
    }
    // Otherwise create a custom location
    return {
        id: Math.floor(lat * 10000 + lon * 100),
        name: "Your Location",
        country: "Detected",
        countryCode: "XX",
        latitude: lat,
        longitude: lon,
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
    };
}
// Haversine distance in km
function getDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; // Earth's radius in km
    const dLat = toRad(lat2 - lat1);
    const dLon = toRad(lon2 - lon1);
    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    return R * c;
}
function toRad(deg) {
    return deg * (Math.PI / 180);
}
}),
"[project]/Documents/GitHub/WeatherBet/src/lib/currency.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Currency Service for ETH to Fiat conversion
__turbopack_context__.s([
    "CURRENCIES",
    ()=>CURRENCIES,
    "FIAT_BET_PRESETS",
    ()=>FIAT_BET_PRESETS,
    "detectUserCurrency",
    ()=>detectUserCurrency,
    "ethToFiat",
    ()=>ethToFiat,
    "fetchExchangeRates",
    ()=>fetchExchangeRates,
    "fiatToEth",
    ()=>fiatToEth,
    "formatEth",
    ()=>formatEth,
    "formatFiat",
    ()=>formatFiat,
    "getBetPresets",
    ()=>getBetPresets,
    "getCurrencyFromCountry",
    ()=>getCurrencyFromCountry,
    "saveCurrencyPreference",
    ()=>saveCurrencyPreference
]);
const CURRENCIES = [
    {
        code: "USD",
        symbol: "$",
        name: "US Dollar",
        locale: "en-US"
    },
    {
        code: "EUR",
        symbol: "€",
        name: "Euro",
        locale: "de-DE"
    },
    {
        code: "BRL",
        symbol: "R$",
        name: "Brazilian Real",
        locale: "pt-BR"
    },
    {
        code: "INR",
        symbol: "₹",
        name: "Indian Rupee",
        locale: "en-IN"
    },
    {
        code: "CNY",
        symbol: "¥",
        name: "Chinese Yuan",
        locale: "zh-CN"
    },
    {
        code: "IDR",
        symbol: "Rp",
        name: "Indonesian Rupiah",
        locale: "id-ID"
    },
    {
        code: "NGN",
        symbol: "₦",
        name: "Nigerian Naira",
        locale: "en-NG"
    },
    {
        code: "PHP",
        symbol: "₱",
        name: "Philippine Peso",
        locale: "en-PH"
    },
    {
        code: "GBP",
        symbol: "£",
        name: "British Pound",
        locale: "en-GB"
    },
    {
        code: "MXN",
        symbol: "$",
        name: "Mexican Peso",
        locale: "es-MX"
    },
    {
        code: "KES",
        symbol: "KSh",
        name: "Kenyan Shilling",
        locale: "en-KE"
    },
    {
        code: "VND",
        symbol: "₫",
        name: "Vietnamese Dong",
        locale: "vi-VN"
    },
    {
        code: "THB",
        symbol: "฿",
        name: "Thai Baht",
        locale: "th-TH"
    },
    {
        code: "ZAR",
        symbol: "R",
        name: "South African Rand",
        locale: "en-ZA"
    },
    {
        code: "ARS",
        symbol: "$",
        name: "Argentine Peso",
        locale: "es-AR"
    }
];
// Country code to currency mapping
const COUNTRY_TO_CURRENCY = {
    US: "USD",
    GB: "GBP",
    EU: "EUR",
    DE: "EUR",
    FR: "EUR",
    IT: "EUR",
    ES: "EUR",
    BR: "BRL",
    IN: "INR",
    CN: "CNY",
    ID: "IDR",
    NG: "NGN",
    PH: "PHP",
    MX: "MXN",
    KE: "KES",
    VN: "VND",
    TH: "THB",
    ZA: "ZAR",
    AR: "ARS",
    JP: "JPY",
    KR: "KRW",
    AU: "AUD",
    CA: "CAD",
    NZ: "NZD",
    SG: "SGD"
};
// Cache for exchange rates
let cachedRates = null;
const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes
async function fetchExchangeRates() {
    // Return cached if still valid
    if (cachedRates && Date.now() - cachedRates.timestamp < CACHE_DURATION) {
        return cachedRates;
    }
    try {
        const currencies = CURRENCIES.map((c)=>c.code.toLowerCase()).join(",");
        const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=${currencies}`);
        if (!response.ok) throw new Error("Failed to fetch rates");
        const data = await response.json();
        cachedRates = {
            eth: data.ethereum,
            timestamp: Date.now()
        };
        return cachedRates;
    } catch (error) {
        console.error("Exchange rate fetch error:", error);
        // Return fallback rates if API fails
        return getFallbackRates();
    }
}
// Fallback rates (approximate, updated periodically)
function getFallbackRates() {
    return {
        eth: {
            usd: 3500,
            eur: 3200,
            brl: 17500,
            inr: 290000,
            cny: 25000,
            idr: 55000000,
            ngn: 5500000,
            php: 200000,
            gbp: 2800,
            mxn: 60000,
            kes: 450000,
            vnd: 88000000,
            thb: 120000,
            zar: 63000,
            ars: 3500000
        },
        timestamp: Date.now()
    };
}
function ethToFiat(ethAmount, currencyCode, rates) {
    const rate = rates.eth[currencyCode.toLowerCase()];
    if (!rate) return ethAmount * (rates.eth.usd || 3500); // Fallback to USD
    return ethAmount * rate;
}
function fiatToEth(fiatAmount, currencyCode, rates) {
    const rate = rates.eth[currencyCode.toLowerCase()];
    if (!rate) return fiatAmount / (rates.eth.usd || 3500);
    return fiatAmount / rate;
}
function formatFiat(amount, currency) {
    try {
        return new Intl.NumberFormat(currency.locale, {
            style: "currency",
            currency: currency.code,
            minimumFractionDigits: 0,
            maximumFractionDigits: amount < 100 ? 2 : 0
        }).format(amount);
    } catch  {
        return `${currency.symbol}${amount.toFixed(2)}`;
    }
}
function formatEth(amount) {
    if (amount < 0.001) return "< 0.001 ETH";
    if (amount < 1) return `${amount.toFixed(3)} ETH`;
    return `${amount.toFixed(2)} ETH`;
}
function getCurrencyFromCountry(countryCode) {
    const currencyCode = COUNTRY_TO_CURRENCY[countryCode.toUpperCase()] || "USD";
    return CURRENCIES.find((c)=>c.code === currencyCode) || CURRENCIES[0];
}
async function detectUserCurrency() {
    // 1. Check localStorage for saved preference
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    // 2. Try to detect from browser locale
    if (typeof navigator !== "undefined") {
        const locale = navigator.language || "en-US";
        const regionMatch = locale.match(/[-_]([A-Z]{2})$/i);
        if (regionMatch) {
            const currency = getCurrencyFromCountry(regionMatch[1]);
            if (currency) return currency;
        }
    }
    // 3. Fallback to USD
    return CURRENCIES[0];
}
function saveCurrencyPreference(currencyCode) {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
}
const FIAT_BET_PRESETS = [
    {
        label: "small",
        usdEquivalent: 5
    },
    {
        label: "medium",
        usdEquivalent: 25
    },
    {
        label: "large",
        usdEquivalent: 100
    },
    {
        label: "max",
        usdEquivalent: 500
    }
];
function getBetPresets(currency, rates) {
    const usdRate = rates.eth.usd || 3500;
    const userRate = rates.eth[currency.code.toLowerCase()] || usdRate;
    const conversionFactor = userRate / usdRate;
    return FIAT_BET_PRESETS.map((preset)=>{
        const fiatAmount = Math.round(preset.usdEquivalent * conversionFactor);
        const ethAmount = fiatToEth(fiatAmount, currency.code, rates);
        return {
            fiat: fiatAmount,
            eth: ethAmount
        };
    });
}
}),
"[project]/Documents/GitHub/WeatherBet/src/providers/CurrencyProvider.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CurrencyProvider",
    ()=>CurrencyProvider,
    "useCurrency",
    ()=>useCurrency
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/GitHub/WeatherBet/src/lib/currency.ts [app-ssr] (ecmascript)");
"use client";
;
;
;
const CurrencyContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(undefined);
function CurrencyProvider({ children }) {
    const [currency, setCurrencyState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(__TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"][0]); // Default USD
    const [rates, setRates] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    // Detect currency and fetch rates on mount
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        async function init() {
            setIsLoading(true);
            try {
                // Detect user's preferred currency
                const detectedCurrency = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["detectUserCurrency"])();
                setCurrencyState(detectedCurrency);
                // Fetch exchange rates
                const exchangeRates = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fetchExchangeRates"])();
                setRates(exchangeRates);
            } catch (error) {
                console.error("Currency init error:", error);
            } finally{
                setIsLoading(false);
            }
        }
        init();
    }, []);
    // Refresh rates periodically
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const interval = setInterval(async ()=>{
            try {
                const newRates = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fetchExchangeRates"])();
                setRates(newRates);
            } catch (error) {
                console.error("Rate refresh error:", error);
            }
        }, 5 * 60 * 1000); // Every 5 minutes
        return ()=>clearInterval(interval);
    }, []);
    const setCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((newCurrency)=>{
        setCurrencyState(newCurrency);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["saveCurrencyPreference"])(newCurrency.code);
    }, []);
    const toFiat = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((ethAmount)=>{
        if (!rates) return ethAmount * 3500; // Fallback
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ethToFiat"])(ethAmount, currency.code, rates);
    }, [
        rates,
        currency
    ]);
    const toEth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((fiatAmount)=>{
        if (!rates) return fiatAmount / 3500; // Fallback
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fiatToEth"])(fiatAmount, currency.code, rates);
    }, [
        rates,
        currency
    ]);
    const formatInFiat = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((ethAmount)=>{
        const fiatAmount = toFiat(ethAmount);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["formatFiat"])(fiatAmount, currency);
    }, [
        toFiat,
        currency
    ]);
    const formatInEth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((ethAmount)=>{
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["formatEth"])(ethAmount);
    }, []);
    const betPresets = rates ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getBetPresets"])(currency, rates) : [
        {
            fiat: 5,
            eth: 0.001
        },
        {
            fiat: 25,
            eth: 0.007
        },
        {
            fiat: 100,
            eth: 0.028
        },
        {
            fiat: 500,
            eth: 0.14
        }
    ];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(CurrencyContext.Provider, {
        value: {
            currency,
            setCurrency,
            rates,
            isLoading,
            toFiat,
            toEth,
            formatInFiat,
            formatInEth,
            betPresets,
            availableCurrencies: __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$src$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"]
        },
        children: children
    }, void 0, false, {
        fileName: "[project]/Documents/GitHub/WeatherBet/src/providers/CurrencyProvider.tsx",
        lineNumber: 118,
        columnNumber: 5
    }, this);
}
function useCurrency() {
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$GitHub$2f$WeatherBet$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(CurrencyContext);
    if (context === undefined) {
        throw new Error("useCurrency must be used within a CurrencyProvider");
    }
    return context;
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__46699c74._.js.map