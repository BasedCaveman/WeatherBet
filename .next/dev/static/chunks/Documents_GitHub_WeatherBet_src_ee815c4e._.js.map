{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/LocationSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { MapPin, Search, Navigation, X, ChevronDown, Loader2, Globe } from \"lucide-react\";\nimport { useLocation } from \"@/providers/LocationProvider\";\nimport { City } from \"@/lib/weather\";\n\ninterface LocationSelectorProps {\n  compact?: boolean;\n}\n\nexport function LocationSelector({ compact = false }: LocationSelectorProps) {\n  const { city, setCity, detectLocation, searchCity, popularCities, isDetecting, error } = useLocation();\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<City[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // Search cities as user types\n  useEffect(() => {\n    const timer = setTimeout(async () => {\n      if (searchQuery.length >= 2) {\n        setIsSearching(true);\n        const results = await searchCity(searchQuery);\n        setSearchResults(results);\n        setIsSearching(false);\n      } else {\n        setSearchResults([]);\n      }\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [searchQuery, searchCity]);\n\n  // Focus input when dropdown opens\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isOpen]);\n\n  const handleSelectCity = (selectedCity: City) => {\n    setCity(selectedCity);\n    setIsOpen(false);\n    setSearchQuery(\"\");\n    setSearchResults([]);\n  };\n\n  const handleDetectLocation = async () => {\n    await detectLocation();\n    setIsOpen(false);\n  };\n\n  if (compact) {\n    return (\n      <div className=\"relative\" ref={dropdownRef}>\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white/80 hover:bg-white border border-slate-200 transition-colors text-sm\"\n        >\n          <MapPin className=\"w-3.5 h-3.5 text-emerald-600\" />\n          <span className=\"text-slate-700 font-medium max-w-[120px] truncate\">\n            {city?.name || \"Select\"}\n          </span>\n          <ChevronDown className=\"w-3.5 h-3.5 text-slate-400\" />\n        </button>\n\n        <AnimatePresence>\n          {isOpen && (\n            <LocationDropdown\n              searchQuery={searchQuery}\n              setSearchQuery={setSearchQuery}\n              searchResults={searchResults}\n              isSearching={isSearching}\n              popularCities={popularCities}\n              onSelectCity={handleSelectCity}\n              onDetectLocation={handleDetectLocation}\n              isDetecting={isDetecting}\n              inputRef={inputRef}\n            />\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  }\n\n  // Full-size version (for initial setup)\n  return (\n    <div className=\"w-full max-w-md mx-auto\" ref={dropdownRef}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"w-full flex items-center justify-between px-4 py-3 rounded-2xl bg-white border border-slate-200 hover:border-slate-300 transition-colors\"\n      >\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center\">\n            <MapPin className=\"w-5 h-5 text-emerald-600\" />\n          </div>\n          <div className=\"text-left\">\n            <p className=\"text-sm text-slate-500\">Location</p>\n            <p className=\"font-semibold text-slate-800\">\n              {city ? `${city.name}, ${city.countryCode}` : \"Select your city\"}\n            </p>\n          </div>\n        </div>\n        <ChevronDown className={`w-5 h-5 text-slate-400 transition-transform ${isOpen ? \"rotate-180\" : \"\"}`} />\n      </button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <LocationDropdown\n            searchQuery={searchQuery}\n            setSearchQuery={setSearchQuery}\n            searchResults={searchResults}\n            isSearching={isSearching}\n            popularCities={popularCities}\n            onSelectCity={handleSelectCity}\n            onDetectLocation={handleDetectLocation}\n            isDetecting={isDetecting}\n            inputRef={inputRef}\n            fullSize\n          />\n        )}\n      </AnimatePresence>\n\n      {error && (\n        <p className=\"mt-2 text-sm text-red-500 text-center\">{error}</p>\n      )}\n    </div>\n  );\n}\n\n// Dropdown component\nfunction LocationDropdown({\n  searchQuery,\n  setSearchQuery,\n  searchResults,\n  isSearching,\n  popularCities,\n  onSelectCity,\n  onDetectLocation,\n  isDetecting,\n  inputRef,\n  fullSize = false,\n}: {\n  searchQuery: string;\n  setSearchQuery: (query: string) => void;\n  searchResults: City[];\n  isSearching: boolean;\n  popularCities: City[];\n  onSelectCity: (city: City) => void;\n  onDetectLocation: () => void;\n  isDetecting: boolean;\n  inputRef: React.RefObject<HTMLInputElement | null>;\n  fullSize?: boolean;\n}) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -10 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -10 }}\n      className={`absolute z-50 mt-2 bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden ${\n        fullSize ? \"left-0 right-0\" : \"right-0 w-72\"\n      }`}\n    >\n      {/* Search Input */}\n      <div className=\"p-3 border-b border-slate-100\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder=\"Search city...\"\n            className=\"w-full pl-9 pr-4 py-2.5 rounded-xl bg-slate-50 border-none focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm\"\n          />\n          {searchQuery && (\n            <button\n              onClick={() => setSearchQuery(\"\")}\n              className=\"absolute right-3 top-1/2 -translate-y-1/2\"\n            >\n              <X className=\"w-4 h-4 text-slate-400 hover:text-slate-600\" />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Detect Location Button */}\n      <button\n        onClick={onDetectLocation}\n        disabled={isDetecting}\n        className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-100\"\n      >\n        {isDetecting ? (\n          <Loader2 className=\"w-5 h-5 text-emerald-600 animate-spin\" />\n        ) : (\n          <Navigation className=\"w-5 h-5 text-emerald-600\" />\n        )}\n        <span className=\"text-sm font-medium text-slate-700\">\n          {isDetecting ? \"Detecting...\" : \"Use my location\"}\n        </span>\n      </button>\n\n      {/* Search Results or Popular Cities */}\n      <div className=\"max-h-64 overflow-y-auto\">\n        {isSearching ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <Loader2 className=\"w-5 h-5 text-slate-400 animate-spin\" />\n          </div>\n        ) : searchResults.length > 0 ? (\n          <>\n            <p className=\"px-4 py-2 text-xs font-medium text-slate-400 uppercase\">Results</p>\n            {searchResults.map((city) => (\n              <CityOption key={city.id} city={city} onSelect={onSelectCity} />\n            ))}\n          </>\n        ) : searchQuery.length >= 2 ? (\n          <p className=\"px-4 py-8 text-sm text-slate-400 text-center\">No cities found</p>\n        ) : (\n          <>\n            <p className=\"px-4 py-2 text-xs font-medium text-slate-400 uppercase flex items-center gap-1\">\n              <Globe className=\"w-3 h-3\" />\n              Popular Cities\n            </p>\n            {popularCities.slice(0, 8).map((city) => (\n              <CityOption key={city.id} city={city} onSelect={onSelectCity} />\n            ))}\n          </>\n        )}\n      </div>\n    </motion.div>\n  );\n}\n\n// City option component\nfunction CityOption({ city, onSelect }: { city: City; onSelect: (city: City) => void }) {\n  return (\n    <button\n      onClick={() => onSelect(city)}\n      className=\"w-full flex items-center gap-3 px-4 py-2.5 hover:bg-slate-50 transition-colors\"\n    >\n      <span className=\"text-lg\">{getFlagEmoji(city.countryCode)}</span>\n      <div className=\"text-left flex-1 min-w-0\">\n        <p className=\"text-sm font-medium text-slate-700 truncate\">{city.name}</p>\n        <p className=\"text-xs text-slate-400\">{city.country}</p>\n      </div>\n    </button>\n  );\n}\n\n// Convert country code to flag emoji\nfunction getFlagEmoji(countryCode: string): string {\n  if (!countryCode || countryCode === \"XX\") return \"üìç\";\n  const codePoints = countryCode\n    .toUpperCase()\n    .split(\"\")\n    .map((char) => 127397 + char.charCodeAt(0));\n  return String.fromCodePoint(...codePoints);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/CurrencySelector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ChevronDown, Check } from \"lucide-react\";\nimport { useCurrency } from \"@/providers/CurrencyProvider\";\nimport { Currency } from \"@/lib/currency\";\n\ninterface CurrencySelectorProps {\n  compact?: boolean;\n}\n\nexport function CurrencySelector({ compact = false }: CurrencySelectorProps) {\n  const { currency, setCurrency, availableCurrencies, rates } = useCurrency();\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const handleSelectCurrency = (selected: Currency) => {\n    setCurrency(selected);\n    setIsOpen(false);\n  };\n\n  // Get ETH rate for display\n  const ethRate = rates?.eth[currency.code.toLowerCase()];\n\n  if (compact) {\n    return (\n      <div className=\"relative\" ref={dropdownRef}>\n        <button\n          onClick={() => setIsOpen(!isOpen)}\n          className=\"flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors text-sm\"\n        >\n          <span className=\"font-medium text-slate-700\">{currency.code}</span>\n          <ChevronDown className=\"w-3.5 h-3.5 text-slate-400\" />\n        </button>\n\n        <AnimatePresence>\n          {isOpen && (\n            <CurrencyDropdown\n              currencies={availableCurrencies}\n              selectedCurrency={currency}\n              onSelect={handleSelectCurrency}\n              rates={rates}\n            />\n          )}\n        </AnimatePresence>\n      </div>\n    );\n  }\n\n  // Full version\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center gap-2 px-3 py-2 rounded-xl bg-white border border-slate-200 hover:border-slate-300 transition-colors\"\n      >\n        <span className=\"text-lg\">{currency.symbol}</span>\n        <span className=\"font-medium text-slate-700\">{currency.code}</span>\n        {ethRate && (\n          <span className=\"text-xs text-slate-400\">\n            1 ETH = {currency.symbol}{ethRate.toLocaleString()}\n          </span>\n        )}\n        <ChevronDown className={`w-4 h-4 text-slate-400 transition-transform ${isOpen ? \"rotate-180\" : \"\"}`} />\n      </button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <CurrencyDropdown\n            currencies={availableCurrencies}\n            selectedCurrency={currency}\n            onSelect={handleSelectCurrency}\n            rates={rates}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\n// Dropdown component\nfunction CurrencyDropdown({\n  currencies,\n  selectedCurrency,\n  onSelect,\n  rates,\n}: {\n  currencies: Currency[];\n  selectedCurrency: Currency;\n  onSelect: (currency: Currency) => void;\n  rates: { eth: Record<string, number> } | null;\n}) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -10 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -10 }}\n      className=\"absolute z-50 mt-2 right-0 w-64 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden\"\n    >\n      <div className=\"max-h-72 overflow-y-auto\">\n        {currencies.map((curr) => {\n          const isSelected = curr.code === selectedCurrency.code;\n          const rate = rates?.eth[curr.code.toLowerCase()];\n\n          return (\n            <button\n              key={curr.code}\n              onClick={() => onSelect(curr)}\n              className={`w-full flex items-center justify-between px-4 py-3 hover:bg-slate-50 transition-colors ${\n                isSelected ? \"bg-emerald-50\" : \"\"\n              }`}\n            >\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-lg w-8\">{curr.symbol}</span>\n                <div className=\"text-left\">\n                  <p className={`text-sm font-medium ${isSelected ? \"text-emerald-700\" : \"text-slate-700\"}`}>\n                    {curr.code}\n                  </p>\n                  <p className=\"text-xs text-slate-400\">{curr.name}</p>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                {rate && (\n                  <span className=\"text-xs text-slate-400\">\n                    {rate.toLocaleString()}\n                  </span>\n                )}\n                {isSelected && (\n                  <Check className=\"w-4 h-4 text-emerald-600\" />\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/Account.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { \n  X, \n  Wallet, \n  TrendingUp, \n  TrendingDown, \n  Clock, \n  DollarSign,\n  ChevronRight,\n  Plus,\n  Minus,\n  History,\n  PieChart,\n  LogOut\n} from \"lucide-react\";\nimport { useAppKit, useAppKitAccount, useDisconnect } from \"@reown/appkit/react\";\nimport { useCurrency } from \"@/providers/CurrencyProvider\";\n\n// Mock positions for demo - will be replaced with contract data\ninterface Position {\n  id: string;\n  marketName: string;\n  marketType: \"rain\" | \"temp\";\n  location: string;\n  side: \"YES\" | \"NO\";\n  shares: number;\n  avgPrice: number;\n  currentPrice: number;\n  unrealizedPnL: number;\n  unrealizedPnLPercent: number;\n}\n\ninterface AccountStats {\n  balance: number;\n  totalDeposited: number;\n  totalWithdrawn: number;\n  openPositionsValue: number;\n  realizedPnL: number;\n  unrealizedPnL: number;\n  winRate: number;\n  totalTrades: number;\n  wonTrades: number;\n}\n\ninterface AccountModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function AccountModal({ isOpen, onClose }: AccountModalProps) {\n  const { address, isConnected } = useAppKitAccount();\n  const { disconnect } = useDisconnect();\n  const { currency, formatInFiat } = useCurrency();\n  const [activeTab, setActiveTab] = useState<\"positions\" | \"history\" | \"stats\">(\"positions\");\n\n  // Mock data - replace with actual contract reads\n  const [stats, setStats] = useState<AccountStats>({\n    balance: 125.50,\n    totalDeposited: 200,\n    totalWithdrawn: 50,\n    openPositionsValue: 85.25,\n    realizedPnL: 45.50,\n    unrealizedPnL: 12.75,\n    winRate: 68,\n    totalTrades: 25,\n    wonTrades: 17,\n  });\n\n  const [positions, setPositions] = useState<Position[]>([\n    {\n      id: \"1\",\n      marketName: \"Rain > Average\",\n      marketType: \"rain\",\n      location: \"S√£o Paulo\",\n      side: \"YES\",\n      shares: 50,\n      avgPrice: 0.52,\n      currentPrice: 0.58,\n      unrealizedPnL: 3.00,\n      unrealizedPnLPercent: 11.5,\n    },\n    {\n      id: \"2\",\n      marketName: \"Temp > Average\",\n      marketType: \"temp\",\n      location: \"London\",\n      side: \"NO\",\n      shares: 25,\n      avgPrice: 0.45,\n      currentPrice: 0.42,\n      unrealizedPnL: -0.75,\n      unrealizedPnLPercent: -6.7,\n    },\n  ]);\n\n  const formatAddress = (addr: string) => {\n    return `${addr.slice(0, 6)}...${addr.slice(-4)}`;\n  };\n\n  const handleDisconnect = async () => {\n    await disconnect();\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n      >\n        {/* Backdrop */}\n        <div \n          className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n          onClick={onClose}\n        />\n\n        {/* Modal */}\n        <motion.div\n          className=\"relative w-full max-w-md max-h-[90vh] bg-white rounded-t-3xl sm:rounded-3xl overflow-hidden\"\n          initial={{ y: 100, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          exit={{ y: 100, opacity: 0 }}\n        >\n          {/* Header */}\n          <div className=\"sticky top-0 bg-white border-b border-slate-100 px-5 py-4 flex items-center justify-between\">\n            <h2 className=\"text-lg font-bold text-slate-800\">Account</h2>\n            <button\n              onClick={onClose}\n              className=\"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center hover:bg-slate-200\"\n            >\n              <X className=\"w-4 h-4 text-slate-500\" />\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"overflow-y-auto max-h-[calc(90vh-80px)]\">\n            {/* Balance Card */}\n            <div className=\"p-5\">\n              <div className=\"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl p-5 text-white\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <span className=\"text-emerald-100 text-sm\">Available Balance</span>\n                  {address && (\n                    <span className=\"text-xs bg-white/20 px-2 py-1 rounded-full\">\n                      {formatAddress(address)}\n                    </span>\n                  )}\n                </div>\n                <div className=\"text-3xl font-bold mb-4\">\n                  {currency.symbol}{stats.balance.toFixed(2)}\n                </div>\n                <div className=\"flex gap-2\">\n                  <button className=\"flex-1 bg-white/20 hover:bg-white/30 py-2.5 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors\">\n                    <Plus className=\"w-4 h-4\" />\n                    Deposit\n                  </button>\n                  <button className=\"flex-1 bg-white/20 hover:bg-white/30 py-2.5 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors\">\n                    <Minus className=\"w-4 h-4\" />\n                    Withdraw\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"px-5 pb-4\">\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"bg-slate-50 rounded-xl p-4\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <TrendingUp className=\"w-4 h-4 text-emerald-500\" />\n                    <span className=\"text-xs text-slate-500\">Total P&L</span>\n                  </div>\n                  <div className={`text-lg font-bold ${stats.realizedPnL + stats.unrealizedPnL >= 0 ? \"text-emerald-600\" : \"text-red-500\"}`}>\n                    {stats.realizedPnL + stats.unrealizedPnL >= 0 ? \"+\" : \"\"}\n                    {currency.symbol}{(stats.realizedPnL + stats.unrealizedPnL).toFixed(2)}\n                  </div>\n                </div>\n                <div className=\"bg-slate-50 rounded-xl p-4\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <PieChart className=\"w-4 h-4 text-sky-500\" />\n                    <span className=\"text-xs text-slate-500\">Win Rate</span>\n                  </div>\n                  <div className=\"text-lg font-bold text-slate-700\">\n                    {stats.winRate}%\n                  </div>\n                  <div className=\"text-xs text-slate-400\">\n                    {stats.wonTrades}/{stats.totalTrades} markets\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Tabs */}\n            <div className=\"px-5 border-b border-slate-100\">\n              <div className=\"flex gap-1\">\n                {[\n                  { id: \"positions\", label: \"Positions\", icon: Wallet },\n                  { id: \"history\", label: \"History\", icon: History },\n                  { id: \"stats\", label: \"Stats\", icon: PieChart },\n                ].map((tab) => (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id as typeof activeTab)}\n                    className={`flex-1 flex items-center justify-center gap-1.5 py-3 text-sm font-medium border-b-2 transition-colors ${\n                      activeTab === tab.id\n                        ? \"border-emerald-500 text-emerald-600\"\n                        : \"border-transparent text-slate-400 hover:text-slate-600\"\n                    }`}\n                  >\n                    <tab.icon className=\"w-4 h-4\" />\n                    {tab.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Tab Content */}\n            <div className=\"p-5\">\n              {activeTab === \"positions\" && (\n                <div className=\"space-y-3\">\n                  {positions.length === 0 ? (\n                    <div className=\"text-center py-8 text-slate-400\">\n                      <Wallet className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                      <p>No open positions</p>\n                    </div>\n                  ) : (\n                    positions.map((pos) => (\n                      <PositionCard key={pos.id} position={pos} currency={currency} />\n                    ))\n                  )}\n                </div>\n              )}\n\n              {activeTab === \"history\" && (\n                <div className=\"text-center py-8 text-slate-400\">\n                  <History className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                  <p>Transaction history coming soon</p>\n                </div>\n              )}\n\n              {activeTab === \"stats\" && (\n                <div className=\"space-y-4\">\n                  <StatRow label=\"Total Deposited\" value={`${currency.symbol}${stats.totalDeposited.toFixed(2)}`} />\n                  <StatRow label=\"Total Withdrawn\" value={`${currency.symbol}${stats.totalWithdrawn.toFixed(2)}`} />\n                  <StatRow label=\"Realized P&L\" value={`${stats.realizedPnL >= 0 ? \"+\" : \"\"}${currency.symbol}${stats.realizedPnL.toFixed(2)}`} positive={stats.realizedPnL >= 0} />\n                  <StatRow label=\"Unrealized P&L\" value={`${stats.unrealizedPnL >= 0 ? \"+\" : \"\"}${currency.symbol}${stats.unrealizedPnL.toFixed(2)}`} positive={stats.unrealizedPnL >= 0} />\n                  <StatRow label=\"Open Positions Value\" value={`${currency.symbol}${stats.openPositionsValue.toFixed(2)}`} />\n                  <StatRow label=\"Markets Participated\" value={stats.totalTrades.toString()} />\n                  <StatRow label=\"Markets Won\" value={stats.wonTrades.toString()} />\n                </div>\n              )}\n            </div>\n\n            {/* Disconnect Button */}\n            <div className=\"p-5 border-t border-slate-100\">\n              <button\n                onClick={handleDisconnect}\n                className=\"w-full py-3 text-red-500 hover:bg-red-50 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                Disconnect\n              </button>\n            </div>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n\n// Position Card Component\nfunction PositionCard({ position, currency }: { position: Position; currency: { symbol: string } }) {\n  const isProfit = position.unrealizedPnL >= 0;\n\n  return (\n    <div className=\"bg-slate-50 rounded-xl p-4\">\n      <div className=\"flex items-start justify-between mb-2\">\n        <div>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-lg\">\n              {position.marketType === \"rain\" ? \"üåßÔ∏è\" : \"üå°Ô∏è\"}\n            </span>\n            <span className=\"font-medium text-slate-700\">{position.marketName}</span>\n          </div>\n          <p className=\"text-xs text-slate-400\">{position.location}</p>\n        </div>\n        <span className={`px-2 py-1 rounded-lg text-xs font-bold ${\n          position.side === \"YES\" \n            ? \"bg-emerald-100 text-emerald-700\" \n            : \"bg-slate-200 text-slate-600\"\n        }`}>\n          {position.side}\n        </span>\n      </div>\n      \n      <div className=\"flex items-end justify-between\">\n        <div>\n          <p className=\"text-xs text-slate-400\">\n            {position.shares} shares @ {currency.symbol}{position.avgPrice.toFixed(2)}\n          </p>\n          <p className=\"text-sm text-slate-600\">\n            Current: {currency.symbol}{position.currentPrice.toFixed(2)}\n          </p>\n        </div>\n        <div className=\"text-right\">\n          <p className={`font-bold ${isProfit ? \"text-emerald-600\" : \"text-red-500\"}`}>\n            {isProfit ? \"+\" : \"\"}{currency.symbol}{position.unrealizedPnL.toFixed(2)}\n          </p>\n          <p className={`text-xs ${isProfit ? \"text-emerald-500\" : \"text-red-400\"}`}>\n            {isProfit ? \"+\" : \"\"}{position.unrealizedPnLPercent.toFixed(1)}%\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Stat Row Component\nfunction StatRow({ label, value, positive }: { label: string; value: string; positive?: boolean }) {\n  return (\n    <div className=\"flex items-center justify-between py-2 border-b border-slate-100 last:border-0\">\n      <span className=\"text-sm text-slate-500\">{label}</span>\n      <span className={`font-medium ${\n        positive === true ? \"text-emerald-600\" : \n        positive === false ? \"text-red-500\" : \n        \"text-slate-700\"\n      }`}>\n        {value}\n      </span>\n    </div>\n  );\n}\n\n// Export a simple trigger button\nexport function AccountButton() {\n  const [showModal, setShowModal] = useState(false);\n  const { address, isConnected } = useAppKitAccount();\n  const { open } = useAppKit();\n\n  if (!isConnected) {\n    return (\n      <button\n        onClick={() => open()}\n        className=\"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-medium transition-colors\"\n      >\n        <Wallet className=\"w-4 h-4\" />\n        Sign In\n      </button>\n    );\n  }\n\n  return (\n    <>\n      <button\n        onClick={() => setShowModal(true)}\n        className=\"flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 hover:border-slate-300 rounded-xl transition-colors\"\n      >\n        <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-emerald-400 to-sky-400\" />\n        <span className=\"text-sm font-medium text-slate-700\">\n          {address?.slice(0, 6)}...\n        </span>\n      </button>\n      \n      <AccountModal isOpen={showModal} onClose={() => setShowModal(false)} />\n    </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport { CloudSun } from \"lucide-react\";\nimport { LocationSelector } from \"./LocationSelector\";\nimport { CurrencySelector } from \"./CurrencySelector\";\nimport { AccountButton } from \"./Account\";\n\nexport function Header() {\n  return (\n    <header className=\"w-full px-4 py-4 sm:px-6 sm:py-5\">\n      <div className=\"max-w-2xl mx-auto\">\n        {/* Top row: Logo and Account */}\n        <div className=\"flex items-center justify-between mb-3\">\n          {/* Logo / Brand */}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-10 h-10 sm:w-11 sm:h-11 rounded-2xl bg-gradient-to-br from-sky-400 to-emerald-400 flex items-center justify-center shadow-lg\">\n              <CloudSun className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" strokeWidth={2.5} />\n            </div>\n            <span className=\"text-lg sm:text-xl font-bold text-slate-800 hidden sm:block\">\n              WeatherBet\n            </span>\n          </div>\n\n          {/* Account Button (Social Login) */}\n          <AccountButton />\n        </div>\n\n        {/* Bottom row: Location and Currency */}\n        <div className=\"flex items-center justify-between\">\n          <LocationSelector compact />\n          <CurrencySelector compact />\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS;IACd,qBACE,kOAAC;QAAO,WAAU;kBAChB,cAAA,kOAAC;YAAI,WAAU;;8BAEb,kOAAC;oBAAI,WAAU;;sCAEb,kOAAC;4BAAI,WAAU;;8CACb,kOAAC;oCAAI,WAAU;8CACb,cAAA,kOAAC,kQAAQ;wCAAC,WAAU;wCAAmC,aAAa;;;;;;;;;;;8CAEtE,kOAAC;oCAAK,WAAU;8CAA8D;;;;;;;;;;;;sCAMhF,kOAAC,sLAAa;;;;;;;;;;;8BAIhB,kOAAC;oBAAI,WAAU;;sCACb,kOAAC,kMAAgB;4BAAC,OAAO;;;;;;sCACzB,kOAAC,kMAAgB;4BAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;AAKnC;KA5BgB"}},
    {"offset": {"line": 1792, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/lib/constants.ts"],"sourcesContent":["// Contract address (deployed on MegaETH)\n// This will be updated after contract deployment\nexport const PREDICTION_MARKET_ADDRESS = \"0x0000000000000000000000000000000000000000\" as const;\n\n// Market types\nexport enum MarketType {\n  RAIN = 0,\n  TEMPERATURE = 1,\n}\n\n// Preset bet amounts in ETH\nexport const BET_AMOUNTS = [0.001, 0.005, 0.01, 0.05] as const;\n\n// Market durations\nexport const MARKET_DURATION_DAYS = 7;\n\n// Contract ABI (simplified for prediction market)\nexport const PREDICTION_MARKET_ABI = [\n  {\n    name: \"getMarket\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"marketId\", type: \"uint256\" }],\n    outputs: [\n      {\n        name: \"\",\n        type: \"tuple\",\n        components: [\n          { name: \"id\", type: \"uint256\" },\n          { name: \"marketType\", type: \"uint8\" },\n          { name: \"startTime\", type: \"uint256\" },\n          { name: \"endTime\", type: \"uint256\" },\n          { name: \"totalYesAmount\", type: \"uint256\" },\n          { name: \"totalNoAmount\", type: \"uint256\" },\n          { name: \"resolved\", type: \"bool\" },\n          { name: \"outcome\", type: \"bool\" },\n        ],\n      },\n    ],\n  },\n  {\n    name: \"placePrediction\",\n    type: \"function\",\n    stateMutability: \"payable\",\n    inputs: [\n      { name: \"marketId\", type: \"uint256\" },\n      { name: \"prediction\", type: \"bool\" },\n    ],\n    outputs: [],\n  },\n  {\n    name: \"claimWinnings\",\n    type: \"function\",\n    stateMutability: \"nonpayable\",\n    inputs: [{ name: \"marketId\", type: \"uint256\" }],\n    outputs: [],\n  },\n  {\n    name: \"getUserPrediction\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [\n      { name: \"marketId\", type: \"uint256\" },\n      { name: \"user\", type: \"address\" },\n    ],\n    outputs: [\n      { name: \"position\", type: \"bool\" },\n      { name: \"amount\", type: \"uint256\" },\n      { name: \"claimed\", type: \"bool\" },\n    ],\n  },\n  {\n    name: \"getActiveMarkets\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256[]\" }],\n  },\n] as const;\n\n// Mock data for development\nexport const MOCK_MARKETS = [\n  {\n    id: 1,\n    marketType: MarketType.RAIN,\n    startTime: Math.floor(Date.now() / 1000),\n    endTime: Math.floor(Date.now() / 1000) + 7 * 24 * 60 * 60,\n    totalYesAmount: BigInt(\"150000000000000000\"), // 0.15 ETH\n    totalNoAmount: BigInt(\"80000000000000000\"),   // 0.08 ETH\n    resolved: false,\n    outcome: false,\n  },\n  {\n    id: 2,\n    marketType: MarketType.TEMPERATURE,\n    startTime: Math.floor(Date.now() / 1000),\n    endTime: Math.floor(Date.now() / 1000) + 7 * 24 * 60 * 60,\n    totalYesAmount: BigInt(\"200000000000000000\"), // 0.2 ETH\n    totalNoAmount: BigInt(\"75000000000000000\"),   // 0.075 ETH\n    resolved: false,\n    outcome: false,\n  },\n];\n"],"names":[],"mappings":"AAAA,yCAAyC;AACzC,iDAAiD;;;;;;;;;;;;;;;AAC1C,MAAM,4BAA4B;AAGlC,IAAA,AAAK,oCAAA;;;WAAA;;AAML,MAAM,cAAc;IAAC;IAAO;IAAO;IAAM;CAAK;AAG9C,MAAM,uBAAuB;AAG7B,MAAM,wBAAwB;IACnC;QACE,MAAM;QACN,MAAM;QACN,iBAAiB;QACjB,QAAQ;YAAC;gBAAE,MAAM;gBAAY,MAAM;YAAU;SAAE;QAC/C,SAAS;YACP;gBACE,MAAM;gBACN,MAAM;gBACN,YAAY;oBACV;wBAAE,MAAM;wBAAM,MAAM;oBAAU;oBAC9B;wBAAE,MAAM;wBAAc,MAAM;oBAAQ;oBACpC;wBAAE,MAAM;wBAAa,MAAM;oBAAU;oBACrC;wBAAE,MAAM;wBAAW,MAAM;oBAAU;oBACnC;wBAAE,MAAM;wBAAkB,MAAM;oBAAU;oBAC1C;wBAAE,MAAM;wBAAiB,MAAM;oBAAU;oBACzC;wBAAE,MAAM;wBAAY,MAAM;oBAAO;oBACjC;wBAAE,MAAM;wBAAW,MAAM;oBAAO;iBACjC;YACH;SACD;IACH;IACA;QACE,MAAM;QACN,MAAM;QACN,iBAAiB;QACjB,QAAQ;YACN;gBAAE,MAAM;gBAAY,MAAM;YAAU;YACpC;gBAAE,MAAM;gBAAc,MAAM;YAAO;SACpC;QACD,SAAS,EAAE;IACb;IACA;QACE,MAAM;QACN,MAAM;QACN,iBAAiB;QACjB,QAAQ;YAAC;gBAAE,MAAM;gBAAY,MAAM;YAAU;SAAE;QAC/C,SAAS,EAAE;IACb;IACA;QACE,MAAM;QACN,MAAM;QACN,iBAAiB;QACjB,QAAQ;YACN;gBAAE,MAAM;gBAAY,MAAM;YAAU;YACpC;gBAAE,MAAM;gBAAQ,MAAM;YAAU;SACjC;QACD,SAAS;YACP;gBAAE,MAAM;gBAAY,MAAM;YAAO;YACjC;gBAAE,MAAM;gBAAU,MAAM;YAAU;YAClC;gBAAE,MAAM;gBAAW,MAAM;YAAO;SACjC;IACH;IACA;QACE,MAAM;QACN,MAAM;QACN,iBAAiB;QACjB,QAAQ,EAAE;QACV,SAAS;YAAC;gBAAE,MAAM;gBAAI,MAAM;YAAY;SAAE;IAC5C;CACD;AAGM,MAAM,eAAe;IAC1B;QACE,IAAI;QACJ,UAAU;QACV,WAAW,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;QACnC,SAAS,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,QAAQ,IAAI,KAAK,KAAK;QACvD,gBAAgB,OAAO;QACvB,eAAe,OAAO;QACtB,UAAU;QACV,SAAS;IACX;IACA;QACE,IAAI;QACJ,UAAU;QACV,WAAW,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;QACnC,SAAS,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,QAAQ,IAAI,KAAK,KAAK;QACvD,gBAAgB,OAAO;QACvB,eAAe,OAAO;QACtB,UAAU;QACV,SAAS;IACX;CACD"}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/hooks/useMarkets.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useReadContract, useWriteContract, useWaitForTransactionReceipt, useAccount } from \"wagmi\";\nimport { parseEther, formatEther } from \"viem\";\nimport {\n  PREDICTION_MARKET_ADDRESS,\n  PREDICTION_MARKET_ABI,\n  MOCK_MARKETS,\n  MarketType,\n} from \"@/lib/constants\";\n\nexport interface Market {\n  id: number;\n  marketType: MarketType;\n  startTime: number;\n  endTime: number;\n  totalYesAmount: bigint;\n  totalNoAmount: bigint;\n  resolved: boolean;\n  outcome: boolean;\n}\n\nexport interface UserPrediction {\n  position: boolean;\n  amount: bigint;\n  claimed: boolean;\n}\n\n// Use mock data in development\nconst USE_MOCK = process.env.NEXT_PUBLIC_USE_MOCK === \"true\" || PREDICTION_MARKET_ADDRESS === \"0x0000000000000000000000000000000000000000\";\n\nexport function useMarkets() {\n  // In mock mode, return mock data\n  if (USE_MOCK) {\n    return {\n      markets: MOCK_MARKETS as Market[],\n      isLoading: false,\n      error: null,\n    };\n  }\n\n  // Real contract call would go here\n  return {\n    markets: [] as Market[],\n    isLoading: false,\n    error: null,\n  };\n}\n\nexport function useMarket(marketId: number) {\n  if (USE_MOCK) {\n    const market = MOCK_MARKETS.find((m) => m.id === marketId);\n    return {\n      market: market as Market | undefined,\n      isLoading: false,\n      error: null,\n    };\n  }\n\n  const { data, isLoading, error } = useReadContract({\n    address: PREDICTION_MARKET_ADDRESS,\n    abi: PREDICTION_MARKET_ABI,\n    functionName: \"getMarket\",\n    args: [BigInt(marketId)],\n  });\n\n  return {\n    market: data as Market | undefined,\n    isLoading,\n    error,\n  };\n}\n\nexport function useUserPrediction(marketId: number) {\n  const { address } = useAccount();\n\n  if (USE_MOCK || !address) {\n    return {\n      prediction: null as UserPrediction | null,\n      isLoading: false,\n      error: null,\n    };\n  }\n\n  const { data, isLoading, error } = useReadContract({\n    address: PREDICTION_MARKET_ADDRESS,\n    abi: PREDICTION_MARKET_ABI,\n    functionName: \"getUserPrediction\",\n    args: [BigInt(marketId), address],\n  });\n\n  // Transform tuple response to UserPrediction object\n  const prediction: UserPrediction | null = data\n    ? {\n        position: data[0],\n        amount: data[1],\n        claimed: data[2],\n      }\n    : null;\n\n  return {\n    prediction,\n    isLoading,\n    error,\n  };\n}\n\nexport function usePlacePrediction() {\n  const [isPending, setIsPending] = useState(false);\n  const { writeContract, data: hash, error, isPending: isWritePending } = useWriteContract();\n\n  const { isLoading: isConfirming, isSuccess } = useWaitForTransactionReceipt({\n    hash,\n  });\n\n  const placePrediction = async (marketId: number, prediction: boolean, amount: number) => {\n    if (USE_MOCK) {\n      setIsPending(true);\n      // Simulate transaction\n      await new Promise((resolve) => setTimeout(resolve, 2000));\n      setIsPending(false);\n      return;\n    }\n\n    writeContract({\n      address: PREDICTION_MARKET_ADDRESS,\n      abi: PREDICTION_MARKET_ABI,\n      functionName: \"placePrediction\",\n      args: [BigInt(marketId), prediction],\n      value: parseEther(amount.toString()),\n    });\n  };\n\n  return {\n    placePrediction,\n    isPending: isPending || isWritePending || isConfirming,\n    isSuccess,\n    error,\n    hash,\n  };\n}\n\nexport function useClaimWinnings() {\n  const { writeContract, data: hash, error, isPending } = useWriteContract();\n\n  const { isLoading: isConfirming, isSuccess } = useWaitForTransactionReceipt({\n    hash,\n  });\n\n  const claimWinnings = (marketId: number) => {\n    writeContract({\n      address: PREDICTION_MARKET_ADDRESS,\n      abi: PREDICTION_MARKET_ABI,\n      functionName: \"claimWinnings\",\n      args: [BigInt(marketId)],\n    });\n  };\n\n  return {\n    claimWinnings,\n    isPending: isPending || isConfirming,\n    isSuccess,\n    error,\n    hash,\n  };\n}\n\n// Utility functions\nexport function calculateOdds(yesAmount: bigint, noAmount: bigint) {\n  const total = yesAmount + noAmount;\n  if (total === BigInt(0)) return { yesPercent: 50, noPercent: 50 };\n\n  const yesPercent = Number((yesAmount * BigInt(100)) / total);\n  const noPercent = 100 - yesPercent;\n\n  return { yesPercent, noPercent };\n}\n\nexport function formatAmount(amount: bigint) {\n  return parseFloat(formatEther(amount)).toFixed(3);\n}\n\nexport function getTimeRemaining(endTime: number) {\n  // Use a stable value for SSR, actual calculation happens on client\n  if (typeof window === \"undefined\") {\n    return { days: 7, hours: 0, text: \"7d\" };\n  }\n  \n  const now = Math.floor(Date.now() / 1000);\n  const remaining = endTime - now;\n\n  if (remaining <= 0) return { days: 0, hours: 0, text: \"Ended\" };\n\n  const days = Math.floor(remaining / (24 * 60 * 60));\n  const hours = Math.floor((remaining % (24 * 60 * 60)) / (60 * 60));\n\n  if (days > 0) return { days, hours, text: `${days}d` };\n  return { days: 0, hours, text: `${hours}h` };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AA8BiB;AA5BjB;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;AALA;;;;;AA6BA,+BAA+B;AAC/B,MAAM,WAAW,gNAAO,CAAC,GAAG,CAAC,oBAAoB,KAAK,UAAU,4LAAyB,KAAK;AAEvF,SAAS;IACd,iCAAiC;IACjC,IAAI,UAAU;QACZ,OAAO;YACL,SAAS,+KAAY;YACrB,WAAW;YACX,OAAO;QACT;IACF;IAEA,mCAAmC;IACnC,OAAO;QACL,SAAS,EAAE;QACX,WAAW;QACX,OAAO;IACT;AACF;AAEO,SAAS,UAAU,QAAgB;;IACxC,IAAI,UAAU;QACZ,MAAM,SAAS,+KAAY,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACjD,OAAO;YACL,QAAQ;YACR,WAAW;YACX,OAAO;QACT;IACF;IAEA,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,2NAAe,EAAC;QACjD,SAAS,4LAAyB;QAClC,KAAK,wLAAqB;QAC1B,cAAc;QACd,MAAM;YAAC,OAAO;SAAU;IAC1B;IAEA,OAAO;QACL,QAAQ;QACR;QACA;IACF;AACF;GAtBgB;;QAUqB,2NAAe;;;AAc7C,SAAS,kBAAkB,QAAgB;;IAChD,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,mQAAU;IAE9B,IAAI,YAAY,CAAC,SAAS;QACxB,OAAO;YACL,YAAY;YACZ,WAAW;YACX,OAAO;QACT;IACF;IAEA,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,2NAAe,EAAC;QACjD,SAAS,4LAAyB;QAClC,KAAK,wLAAqB;QAC1B,cAAc;QACd,MAAM;YAAC,OAAO;YAAW;SAAQ;IACnC;IAEA,oDAAoD;IACpD,MAAM,aAAoC,OACtC;QACE,UAAU,IAAI,CAAC,EAAE;QACjB,QAAQ,IAAI,CAAC,EAAE;QACf,SAAS,IAAI,CAAC,EAAE;IAClB,IACA;IAEJ,OAAO;QACL;QACA;QACA;IACF;AACF;IAhCgB;;QACM,mQAAU;QAUK,2NAAe;;;AAuB7C,SAAS;;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8MAAQ,EAAC;IAC3C,MAAM,EAAE,aAAa,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,WAAW,cAAc,EAAE,GAAG,IAAA,6NAAgB;IAExF,MAAM,EAAE,WAAW,YAAY,EAAE,SAAS,EAAE,GAAG,IAAA,qPAA4B,EAAC;QAC1E;IACF;IAEA,MAAM,kBAAkB,OAAO,UAAkB,YAAqB;QACpE,IAAI,UAAU;YACZ,aAAa;YACb,uBAAuB;YACvB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;YACnD,aAAa;YACb;QACF;QAEA,cAAc;YACZ,SAAS,4LAAyB;YAClC,KAAK,wLAAqB;YAC1B,cAAc;YACd,MAAM;gBAAC,OAAO;gBAAW;aAAW;YACpC,OAAO,IAAA,iNAAU,EAAC,OAAO,QAAQ;QACnC;IACF;IAEA,OAAO;QACL;QACA,WAAW,aAAa,kBAAkB;QAC1C;QACA;QACA;IACF;AACF;IAjCgB;;QAE0D,6NAAgB;QAEzC,qPAA4B;;;AA+BtE,SAAS;;IACd,MAAM,EAAE,aAAa,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,6NAAgB;IAExE,MAAM,EAAE,WAAW,YAAY,EAAE,SAAS,EAAE,GAAG,IAAA,qPAA4B,EAAC;QAC1E;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,cAAc;YACZ,SAAS,4LAAyB;YAClC,KAAK,wLAAqB;YAC1B,cAAc;YACd,MAAM;gBAAC,OAAO;aAAU;QAC1B;IACF;IAEA,OAAO;QACL;QACA,WAAW,aAAa;QACxB;QACA;QACA;IACF;AACF;IAvBgB;;QAC0C,6NAAgB;QAEzB,qPAA4B;;;AAuBtE,SAAS,cAAc,SAAiB,EAAE,QAAgB;IAC/D,MAAM,QAAQ,YAAY;IAC1B,IAAI,UAAU,OAAO,IAAI,OAAO;QAAE,YAAY;QAAI,WAAW;IAAG;IAEhE,MAAM,aAAa,OAAO,AAAC,YAAY,OAAO,OAAQ;IACtD,MAAM,YAAY,MAAM;IAExB,OAAO;QAAE;QAAY;IAAU;AACjC;AAEO,SAAS,aAAa,MAAc;IACzC,OAAO,WAAW,IAAA,mNAAW,EAAC,SAAS,OAAO,CAAC;AACjD;AAEO,SAAS,iBAAiB,OAAe;IAC9C,mEAAmE;IACnE;;IAIA,MAAM,MAAM,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;IACpC,MAAM,YAAY,UAAU;IAE5B,IAAI,aAAa,GAAG,OAAO;QAAE,MAAM;QAAG,OAAO;QAAG,MAAM;IAAQ;IAE9D,MAAM,OAAO,KAAK,KAAK,CAAC,YAAY,CAAC,KAAK,KAAK,EAAE;IACjD,MAAM,QAAQ,KAAK,KAAK,CAAC,AAAC,YAAY,CAAC,KAAK,KAAK,EAAE,IAAK,CAAC,KAAK,EAAE;IAEhE,IAAI,OAAO,GAAG,OAAO;QAAE;QAAM;QAAO,MAAM,GAAG,KAAK,CAAC,CAAC;IAAC;IACrD,OAAO;QAAE,MAAM;QAAG;QAAO,MAAM,GAAG,MAAM,CAAC,CAAC;IAAC;AAC7C"}},
    {"offset": {"line": 2206, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/PredictionModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X, Check, CloudRain, Flame, Sun, Snowflake, Loader2, PartyPopper } from \"lucide-react\";\nimport { useAppKitAccount } from \"@reown/appkit/react\";\nimport { MarketType } from \"@/lib/constants\";\nimport { usePlacePrediction } from \"@/hooks/useMarkets\";\nimport { useCurrency } from \"@/providers/CurrencyProvider\";\n\ninterface PredictionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  marketId: number;\n  prediction: boolean | null;\n  marketType: MarketType;\n}\n\nexport function PredictionModal({\n  isOpen,\n  onClose,\n  marketId,\n  prediction,\n  marketType,\n}: PredictionModalProps) {\n  const [selectedPresetIndex, setSelectedPresetIndex] = useState<number>(1); // Default to medium\n  const [step, setStep] = useState<\"select\" | \"confirming\" | \"success\">(\"select\");\n  \n  const { isConnected } = useAppKitAccount();\n  const { placePrediction, isPending, isSuccess } = usePlacePrediction();\n  const { currency, betPresets, formatInFiat } = useCurrency();\n\n  const isRainMarket = marketType === MarketType.RAIN;\n  const isYes = prediction === true;\n\n  const selectedPreset = betPresets[selectedPresetIndex];\n\n  // Reset state when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      setStep(\"select\");\n      setSelectedPresetIndex(1);\n    }\n  }, [isOpen]);\n\n  // Handle success\n  useEffect(() => {\n    if (isSuccess && step === \"confirming\") {\n      setStep(\"success\");\n      setTimeout(() => {\n        onClose();\n      }, 2000);\n    }\n  }, [isSuccess, step, onClose]);\n\n  const handleConfirm = async () => {\n    if (!isConnected || prediction === null) return;\n    \n    setStep(\"confirming\");\n    await placePrediction(marketId, prediction, selectedPreset.eth);\n  };\n\n  const getIcon = () => {\n    if (isRainMarket) {\n      return isYes ? (\n        <CloudRain className=\"w-10 h-10 text-sky-500\" />\n      ) : (\n        <Sun className=\"w-10 h-10 text-amber-500\" />\n      );\n    }\n    return isYes ? (\n      <Flame className=\"w-10 h-10 text-red-500\" />\n    ) : (\n      <Snowflake className=\"w-10 h-10 text-sky-400\" />\n    );\n  };\n\n  // Format fiat amount\n  const formatFiat = (amount: number) => {\n    return new Intl.NumberFormat(currency.locale, {\n      style: \"currency\",\n      currency: currency.code,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        onClick={onClose}\n      >\n        <motion.div\n          className=\"modal-content w-full max-w-sm p-6 relative\"\n          initial={{ scale: 0.9, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.9, opacity: 0 }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Close button */}\n          <button\n            onClick={onClose}\n            className=\"absolute top-4 right-4 w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center hover:bg-slate-200 transition-colors\"\n          >\n            <X className=\"w-4 h-4 text-slate-500\" />\n          </button>\n\n          {/* Content based on step */}\n          {step === \"select\" && (\n            <>\n              {/* Prediction Icon */}\n              <div className=\"flex flex-col items-center mb-6\">\n                <div className={`w-20 h-20 rounded-2xl flex items-center justify-center mb-3 ${\n                  isYes ? \"bg-emerald-100\" : \"bg-slate-100\"\n                }`}>\n                  {getIcon()}\n                </div>\n                <div className=\"flex items-center gap-2 text-xl font-bold\">\n                  {isYes ? (\n                    <span className=\"text-emerald-600\">‚úì YES</span>\n                  ) : (\n                    <span className=\"text-slate-600\">‚úó NO</span>\n                  )}\n                </div>\n              </div>\n\n              {/* Amount Selection - Fiat First */}\n              <div className=\"mb-6\">\n                <p className=\"text-center text-slate-500 text-sm mb-3\">\n                  Select amount ({currency.code})\n                </p>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  {betPresets.map((preset, index) => (\n                    <button\n                      key={index}\n                      onClick={() => setSelectedPresetIndex(index)}\n                      className={`amount-pill text-center ${\n                        selectedPresetIndex === index ? \"selected\" : \"\"\n                      }`}\n                    >\n                      <span className=\"block text-base font-bold\">\n                        {formatFiat(preset.fiat)}\n                      </span>\n                      <span className=\"block text-xs text-slate-400 mt-0.5\">\n                        ‚âà {preset.eth.toFixed(4)} ETH\n                      </span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Selected Amount Display */}\n              <div className=\"bg-slate-50 rounded-xl p-4 mb-6 text-center\">\n                <p className=\"text-sm text-slate-500 mb-1\">You're betting</p>\n                <p className=\"text-2xl font-bold text-slate-800\">\n                  {formatFiat(selectedPreset.fiat)}\n                </p>\n                <p className=\"text-sm text-slate-400\">\n                  ‚âà {selectedPreset.eth.toFixed(4)} ETH\n                </p>\n              </div>\n\n              {/* Confirm Button */}\n              <motion.button\n                onClick={handleConfirm}\n                disabled={!isConnected}\n                className={`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 ${\n                  isConnected\n                    ? \"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700\"\n                    : \"bg-slate-200 text-slate-400 cursor-not-allowed\"\n                }`}\n                whileTap={isConnected ? { scale: 0.98 } : undefined}\n              >\n                <Check className=\"w-5 h-5\" />\n                {isConnected ? \"Confirm Bet\" : \"Connect Wallet\"}\n              </motion.button>\n            </>\n          )}\n\n          {step === \"confirming\" && (\n            <div className=\"flex flex-col items-center py-8\">\n              <motion.div\n                animate={{ rotate: 360 }}\n                transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n              >\n                <Loader2 className=\"w-16 h-16 text-emerald-500\" />\n              </motion.div>\n              <p className=\"mt-4 text-lg font-medium text-slate-600\">\n                Confirming...\n              </p>\n              <p className=\"mt-2 text-sm text-slate-400\">\n                {formatFiat(selectedPreset.fiat)}\n              </p>\n            </div>\n          )}\n\n          {step === \"success\" && (\n            <motion.div\n              className=\"flex flex-col items-center py-8\"\n              initial={{ scale: 0.8 }}\n              animate={{ scale: 1 }}\n            >\n              <motion.div\n                className=\"w-20 h-20 rounded-full bg-emerald-100 flex items-center justify-center\"\n                animate={{ scale: [1, 1.1, 1] }}\n                transition={{ duration: 0.5 }}\n              >\n                <PartyPopper className=\"w-10 h-10 text-emerald-500\" />\n              </motion.div>\n              <p className=\"mt-4 text-xl font-bold text-emerald-600\">\n                Success!\n              </p>\n              <p className=\"mt-2 text-sm text-slate-400\">\n                Bet placed: {formatFiat(selectedPreset.fiat)}\n              </p>\n            </motion.div>\n          )}\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2662, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/MarketCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { CloudRain, Sun, Thermometer, Flame, Snowflake, Clock, TrendingUp, TrendingDown, BarChart3 } from \"lucide-react\";\nimport { MarketType } from \"@/lib/constants\";\nimport { Market, calculateOdds, formatAmount, getTimeRemaining } from \"@/hooks/useMarkets\";\nimport { useLocation } from \"@/providers/LocationProvider\";\nimport { useCurrency } from \"@/providers/CurrencyProvider\";\nimport { PredictionModal } from \"./PredictionModal\";\n\ninterface MarketCardProps {\n  market: Market;\n}\n\nexport function MarketCard({ market }: MarketCardProps) {\n  const [showModal, setShowModal] = useState(false);\n  const [selectedPrediction, setSelectedPrediction] = useState<boolean | null>(null);\n\n  const { city, weather, climate } = useLocation();\n  const { formatInFiat, currency } = useCurrency();\n\n  const { yesPercent, noPercent } = calculateOdds(market.totalYesAmount, market.totalNoAmount);\n  const totalPool = market.totalYesAmount + market.totalNoAmount;\n  const timeRemaining = getTimeRemaining(market.endTime);\n\n  const isRainMarket = market.marketType === MarketType.RAIN;\n\n  // Calculate prices (as decimals, like Polymarket)\n  const yesPrice = yesPercent / 100;\n  const noPrice = noPercent / 100;\n\n  // Format volumes\n  const yesVolume = formatInFiat(parseFloat(formatAmount(market.totalYesAmount)));\n  const noVolume = formatInFiat(parseFloat(formatAmount(market.totalNoAmount)));\n  const totalVolume = formatInFiat(parseFloat(formatAmount(totalPool)));\n\n  // Get weather comparison data\n  const getForecastVsAverage = () => {\n    if (!weather || !climate) {\n      return { forecast: 0, average: 0, isAbove: true, unit: \"mm\" };\n    }\n\n    if (isRainMarket) {\n      const forecast = weather.weeklyPrecipitationForecast;\n      const average = climate.avgWeeklyPrecipitation;\n      return {\n        forecast: Math.round(forecast),\n        average: Math.round(average),\n        isAbove: forecast > average,\n        unit: \"mm\",\n      };\n    } else {\n      const forecast = weather.weeklyAvgHighTemp;\n      const average = climate.avgDailyHighTemp;\n      return {\n        forecast: Math.round(forecast),\n        average: Math.round(average),\n        isAbove: forecast > average,\n        unit: \"¬∞C\",\n      };\n    }\n  };\n\n  const comparison = getForecastVsAverage();\n\n  const handlePrediction = (prediction: boolean) => {\n    setSelectedPrediction(prediction);\n    setShowModal(true);\n  };\n\n  return (\n    <>\n      <motion.div\n        className=\"market-card p-5 sm:p-6\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.4 }}\n      >\n        {/* Location Badge */}\n        {city && (\n          <div className=\"text-center mb-3\">\n            <span className=\"text-xs text-slate-400 font-medium\">\n              üìç {city.name}, {city.countryCode}\n            </span>\n          </div>\n        )}\n\n        {/* Header with Icon and Probability */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-3\">\n            {isRainMarket ? (\n              <RainIcon />\n            ) : (\n              <TemperatureIcon />\n            )}\n            <div>\n              <p className=\"font-semibold text-slate-700\">\n                {isRainMarket ? \"More rain than average?\" : \"Hotter than average?\"}\n              </p>\n              <p className=\"text-xs text-slate-400\">7-day prediction</p>\n            </div>\n          </div>\n          \n          {/* Probability Circle (like Polymarket) */}\n          <div className=\"relative w-14 h-14\">\n            <svg className=\"w-14 h-14 -rotate-90\">\n              <circle\n                cx=\"28\"\n                cy=\"28\"\n                r=\"24\"\n                stroke=\"#e2e8f0\"\n                strokeWidth=\"4\"\n                fill=\"none\"\n              />\n              <circle\n                cx=\"28\"\n                cy=\"28\"\n                r=\"24\"\n                stroke=\"#10b981\"\n                strokeWidth=\"4\"\n                fill=\"none\"\n                strokeDasharray={`${yesPercent * 1.51} 151`}\n                strokeLinecap=\"round\"\n              />\n            </svg>\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n              <span className=\"text-sm font-bold text-slate-700\">{yesPercent}%</span>\n              <span className=\"text-[10px] text-slate-400\">chance</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Weather Comparison */}\n        {weather && climate && (\n          <div className=\"bg-slate-50 rounded-xl p-3 mb-4\">\n            <div className=\"flex items-center justify-between text-sm\">\n              <div className=\"text-center flex-1\">\n                <p className=\"text-slate-400 text-xs mb-1\">Forecast</p>\n                <p className=\"font-bold text-slate-700\">\n                  {comparison.forecast}{comparison.unit}\n                </p>\n              </div>\n              <div className=\"px-3\">\n                {comparison.isAbove ? (\n                  <TrendingUp className=\"w-5 h-5 text-emerald-500\" />\n                ) : (\n                  <TrendingDown className=\"w-5 h-5 text-slate-400\" />\n                )}\n              </div>\n              <div className=\"text-center flex-1\">\n                <p className=\"text-slate-400 text-xs mb-1\">10y Avg</p>\n                <p className=\"font-bold text-slate-500\">\n                  {comparison.average}{comparison.unit}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Prediction Buttons with Prices & Volume */}\n        <div className=\"grid grid-cols-2 gap-3 mb-4\">\n          {/* YES Button */}\n          <motion.button\n            className=\"relative overflow-hidden rounded-xl bg-emerald-50 hover:bg-emerald-100 border-2 border-emerald-200 hover:border-emerald-300 p-4 text-left transition-colors\"\n            onClick={() => handlePrediction(true)}\n            whileTap={{ scale: 0.98 }}\n          >\n            <div className=\"flex items-center gap-2 mb-2\">\n              {isRainMarket ? (\n                <CloudRain className=\"w-5 h-5 text-emerald-600\" />\n              ) : (\n                <Flame className=\"w-5 h-5 text-emerald-600\" />\n              )}\n              <span className=\"font-bold text-emerald-700\">Yes</span>\n            </div>\n            <div className=\"text-2xl font-bold text-emerald-600 mb-1\">\n              {currency.symbol}{yesPrice.toFixed(2)}\n            </div>\n            <div className=\"text-xs text-emerald-500/70\">\n              Vol: {yesVolume}\n            </div>\n          </motion.button>\n\n          {/* NO Button */}\n          <motion.button\n            className=\"relative overflow-hidden rounded-xl bg-slate-50 hover:bg-slate-100 border-2 border-slate-200 hover:border-slate-300 p-4 text-left transition-colors\"\n            onClick={() => handlePrediction(false)}\n            whileTap={{ scale: 0.98 }}\n          >\n            <div className=\"flex items-center gap-2 mb-2\">\n              {isRainMarket ? (\n                <Sun className=\"w-5 h-5 text-slate-600\" />\n              ) : (\n                <Snowflake className=\"w-5 h-5 text-slate-600\" />\n              )}\n              <span className=\"font-bold text-slate-600\">No</span>\n            </div>\n            <div className=\"text-2xl font-bold text-slate-600 mb-1\">\n              {currency.symbol}{noPrice.toFixed(2)}\n            </div>\n            <div className=\"text-xs text-slate-400\">\n              Vol: {noVolume}\n            </div>\n          </motion.button>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-4\">\n          <div className=\"progress-track\">\n            <motion.div\n              className=\"progress-fill\"\n              initial={{ width: 0 }}\n              animate={{ width: `${yesPercent}%` }}\n              transition={{ duration: 0.8, ease: \"easeOut\" }}\n            />\n          </div>\n        </div>\n\n        {/* Stats Row */}\n        <div className=\"flex items-center justify-between text-sm\">\n          <div className=\"flex items-center gap-1.5 text-slate-500\">\n            <BarChart3 className=\"w-4 h-4\" />\n            <span>{totalVolume} Vol.</span>\n          </div>\n          <div className=\"flex items-center gap-1.5 text-slate-500\">\n            <Clock className=\"w-4 h-4\" />\n            <span>{timeRemaining.text}</span>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Prediction Modal */}\n      <PredictionModal\n        isOpen={showModal}\n        onClose={() => setShowModal(false)}\n        marketId={market.id}\n        prediction={selectedPrediction}\n        marketType={market.marketType}\n      />\n    </>\n  );\n}\n\n// Animated Rain Icon (smaller)\nfunction RainIcon() {\n  return (\n    <div className=\"relative w-12 h-12 bg-sky-100 rounded-xl flex items-center justify-center\">\n      <CloudRain className=\"w-6 h-6 text-sky-600\" />\n    </div>\n  );\n}\n\n// Animated Temperature Icon (smaller)\nfunction TemperatureIcon() {\n  return (\n    <div className=\"relative w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center\">\n      <Thermometer className=\"w-6 h-6 text-red-500\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3299, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/components/index.ts"],"sourcesContent":["export { Header } from \"./Header\";\nexport { MarketCard } from \"./MarketCard\";\nexport { PredictionModal } from \"./PredictionModal\";\nexport { LocationSelector } from \"./LocationSelector\";\nexport { CurrencySelector } from \"./CurrencySelector\";\nexport { AccountModal, AccountButton } from \"./Account\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3319, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedrox/Documents/GitHub/WeatherBet/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { Header, MarketCard, LocationSelector } from \"@/components\";\nimport { useMarkets } from \"@/hooks/useMarkets\";\nimport { useLocation } from \"@/providers/LocationProvider\";\nimport { Loader2, MapPin, CloudRain, Thermometer } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nexport default function Home() {\n  const { markets, isLoading } = useMarkets();\n  const { city, weather, isDetecting, isLoadingWeather, detectLocation } = useLocation();\n\n  // Auto-detect location on first visit\n  useEffect(() => {\n    if (!city && typeof window !== \"undefined\") {\n      const hasVisited = localStorage.getItem(\"weatherbet_visited\");\n      if (!hasVisited) {\n        detectLocation();\n        localStorage.setItem(\"weatherbet_visited\", \"true\");\n      }\n    }\n  }, [city, detectLocation]);\n\n  // Show location setup if no city selected\n  if (!city) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <main className=\"flex-1 px-4 pb-8 sm:px-6 flex items-center justify-center\">\n          <motion.div \n            className=\"max-w-md w-full text-center\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n          >\n            <div className=\"w-20 h-20 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-emerald-400 to-sky-400 flex items-center justify-center\">\n              <MapPin className=\"w-10 h-10 text-white\" />\n            </div>\n            \n            <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">\n              Where are you?\n            </h1>\n            <p className=\"text-slate-500 mb-8\">\n              Select your location to see local weather markets\n            </p>\n\n            {isDetecting ? (\n              <div className=\"flex items-center justify-center gap-3 py-4\">\n                <Loader2 className=\"w-5 h-5 text-emerald-500 animate-spin\" />\n                <span className=\"text-slate-600\">Detecting location...</span>\n              </div>\n            ) : (\n              <LocationSelector />\n            )}\n\n            {/* Use Cases */}\n            <div className=\"mt-12 grid grid-cols-1 gap-4 text-left\">\n              <div className=\"bg-white/60 rounded-xl p-4 flex items-start gap-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-lg\">üåæ</span>\n                </div>\n                <div>\n                  <p className=\"font-medium text-slate-700\">Farmers</p>\n                  <p className=\"text-sm text-slate-500\">Hedge against bad weather for your crops</p>\n                </div>\n              </div>\n              \n              <div className=\"bg-white/60 rounded-xl p-4 flex items-start gap-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-sky-100 flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-lg\">üéâ</span>\n                </div>\n                <div>\n                  <p className=\"font-medium text-slate-700\">Event Planners</p>\n                  <p className=\"text-sm text-slate-500\">Protect outdoor events from rain</p>\n                </div>\n              </div>\n              \n              <div className=\"bg-white/60 rounded-xl p-4 flex items-start gap-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center flex-shrink-0\">\n                  <span className=\"text-lg\">üß•</span>\n                </div>\n                <div>\n                  <p className=\"font-medium text-slate-700\">Seasonal Business</p>\n                  <p className=\"text-sm text-slate-500\">Hedge if winter is too warm</p>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n\n      <main className=\"flex-1 px-4 pb-8 sm:px-6\">\n        <div className=\"max-w-2xl mx-auto\">\n          {/* Weather Summary */}\n          {weather && (\n            <motion.div \n              className=\"bg-white/60 rounded-2xl p-4 mb-6 text-center\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n            >\n              <div className=\"flex items-center justify-center gap-6\">\n                <div className=\"flex items-center gap-2\">\n                  <Thermometer className=\"w-5 h-5 text-red-400\" />\n                  <span className=\"text-lg font-semibold text-slate-700\">\n                    {Math.round(weather.currentTemp)}¬∞C\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <CloudRain className=\"w-5 h-5 text-sky-400\" />\n                  <span className=\"text-lg font-semibold text-slate-700\">\n                    {Math.round(weather.weeklyPrecipitationForecast)}mm\n                  </span>\n                  <span className=\"text-sm text-slate-400\">this week</span>\n                </div>\n              </div>\n            </motion.div>\n          )}\n\n          {/* Loading state */}\n          {(isLoading || isLoadingWeather) && (\n            <div className=\"flex justify-center py-12\">\n              <Loader2 className=\"w-8 h-8 text-emerald-500 animate-spin\" />\n            </div>\n          )}\n\n          {/* Markets */}\n          {!isLoading && !isLoadingWeather && markets && (\n            <div className=\"space-y-6\">\n              {markets.map((market) => (\n                <MarketCard key={market.id} market={market} />\n              ))}\n            </div>\n          )}\n\n          {/* Footer info */}\n          <footer className=\"mt-12 text-center\">\n            <p className=\"text-xs text-slate-400\">\n              7-day predictions ‚Ä¢ 10y average baseline\n            </p>\n            <p className=\"text-xs text-slate-300 mt-1\">\n              Built on MegaETH ‚ö°\n            </p>\n          </footer>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}